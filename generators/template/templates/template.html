{# Reference: https://github.com/joshbuchea/HEAD -#}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="application-name" content="<%= title %>">
    <meta name="description" content="<%= description %>">
    <meta name="subject" content="<%= subject %>">
    <meta name="url" content="<%= url %>">

    <meta name="generator" content="program">
    <meta name="rating" content="General">
    <meta http-equiv="x-dns-prefetch-control" content="off">
    <meta http-equiv="Window-Target" content="_value">
    <meta name="robots" content="index,follow,noodp">
    <meta name="googlebot" content="index,follow">

<% if(other.indexOf('geo') !== -1) { -%>
    <meta name="ICBM" content="<%= geo.lat %>, <%= geo.lon %>">
    <meta name="geo.position" content="<%= geo.lat %>;<%= geo.lon %>">
    <meta name="geo.placename" content="<%= geo.placename %>">

<% } -%>
<% if(other.indexOf('google') !== -1) { -%>
    <meta name="google-site-verification" content="<%= google.verification_token %>">
    <meta itemprop="name" content="<%= title %>">
    <meta itemprop="description" content="<%= description %>">
    <meta itemprop="image" content="/<%= extension ? extension + '/' : '' %>public/favicon/android-chrome-192x192.png">
    <link href="https://plus.google.com/<%= google.publisher %>" rel="publisher">

<% } -%>
<% if(other.indexOf('facebook') !== -1) { -%>
    <meta property="fb:app_id" content="<%= facebook.app_id %>">
    <meta property="og:url" content="<%= url %>">
    <meta property="og:type" content="website">
    <meta property="og:title" content="<%= title %>">
    <meta property="og:image" content="/<%= extension ? extension + '/' : '' %>public/favicon/android-chrome-192x192.png">
    <meta property="og:description" content="<%= description %>">
    <meta property="og:site_name" content="<%= title %>">

<% } -%>
<% if(other.indexOf('twitter') !== -1) { -%>
    <meta name="twitter:card" content="<%= title %>">
    <meta name="twitter:site" content="@<%= twitter.site %>">
    <meta name="twitter:creator" content="@<%= twitter.creator %>">
    <meta name="twitter:url" content="<%= url %>">
    <meta name="twitter:title" content="<%= title %>">
    <meta name="twitter:description" content="<%= description %>">
    <meta name="twitter:image" content="/<%= extension ? extension + '/' : '' %>public/favicon/android-chrome-192x192.png">

<% } -%>
    <title><%= title %></title>
<% if(author) { -%>

    <link rel="author" href="<%= author.url %>/author/">
    <link rel="copyright" href="<%= author.url %>/copyright/">
    <link rel="me" href="<%= author.url %>" type="text/html">
    <link rel="me" href="mailto:<%= author.email %>">
<% } -%>

    <link rel="apple-touch-icon" sizes="180x180" href="/<%= extension ? extension + '/' : '' %>public/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/<%= extension ? extension + '/' : '' %>public/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/<%= extension ? extension + '/' : '' %>public/favicon/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/<%= extension ? extension + '/' : '' %>public/favicon/manifest.json">
    <meta name="theme-color" content="#ffffff">
    {% block head %}{% endblock %}
  </head>

  <body>
    <main id="root">{{ content | safe }}</main>
    {% block body %}{% endblock %}
  </body>
  {% block script %}{% endblock %}
  {% if data %}
  <script>
    var data = {{ data | safe }}
  </script>
  {% endif %}

  {% if ENV %}
  <script defer src="/<%= extension ? extension + '/' : '' %>public/js/common.min.js" type="text/javascript"></script>
  <script defer src="/<%= extension ? extension + '/' : '' %>public/js/{{ js }}.min.js" type="text/javascript"></script>
  {% else %}
  <script defer src="http://localhost:8080/webpack-dev-server.js" type="text/javascript"></script>
  <script defer src="http://localhost:8080/assets/common.js" type="text/javascript"></script>
  <script defer src="http://localhost:8080/assets/{{ js }}.js" type="text/javascript"></script>
  {% endif %}
<% if(other.indexOf('facebook') !== -1) { -%>

  <script>
    window.fbAsyncInit = function() {
      FB.init({
        appId: '<%= facebook.app_id %>',
        xfbml: true,
        version: '<%= facebook.version %>'
      });
      FB.AppEvents.logPageView();
    };

    (function(d, s, id){
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) {return;}
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/sdk.js";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
  </script>
<% } -%>
<% if(other.indexOf('google') !== -1) { -%>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', '<%= google.id %>', 'auto');
    ga('send', 'pageview');
  </script>
<% } -%>
<% if(other.indexOf('firebase') !== -1) { -%>

  <script src="https://www.gstatic.com/firebasejs/3.6.8/firebase.js"></script>
  <script>
    var config = {
      apiKey: "<%= firebase.apiKey %>",
      authDomain: "<%= firebase.authDomain %>",
      databaseURL: "<%= firebase.databaseURL %>",
      storageBucket: "<%= firebase.storageBucket %>",
      messagingSenderId: "<%= firebase.messagingSenderId %>"
    };
    firebase.initializeApp(config);
  </script>
<% } -%>
</html>
